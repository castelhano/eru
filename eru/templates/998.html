{% extends "layout/app.html" %}
{% load static %}
{% block title %}Marcha{% endblock %}
{% block nav_title %}Diagrama de Marcha{% endblock %}

{% block add_script_src %}
<script src="{% static 'js/app/marcha_model.js' %}"></script>
<script src="{% static 'js/app/marcha_ui.js' %}"></script>
{% endblock %}

{% block content %}<div id="march_container"></div>{% endblock %}
{% block canvasNav %}<div id="marchSettings_container"></div>{% endblock %}


<script>
    {% block add_script %}
    const model = new March({id:536, user: 1});
    if (localStorage['marchCurrentProject']){model.load(localStorage.marchCurrentProject)}
    const project = new MarchUI({
        container: document.getElementById('march_container'),
        settingsContainer: document.getElementById('marchSettings_container'),
        project: model,
        initialView: 270,
        // initialView: '05:00'
        // rulerUnit: '2px',
        // rulerMediumUnit: 120,
    });
    {% endblock %}
</script>