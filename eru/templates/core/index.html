{% extends "layout/app.html" %}
{% load static %}
{% block title %}Eru{% endblock %}

{% block canvas_menu %}{% include '_component/menu/core.html' %}{% endblock %}

{% block content_fluid %}
<div id="grid_container"></div>
{% endblock%}
  



{% block add_script_src %}
<script src="{% static 'js/grid.js' %}"></script>
{% endblock %}
<script>
{% block add_script %}


const grid = new jsGrid({
  container: document.getElementById('grid_container'),
  // size: 'lg',
  items: [
    {% if perms.trafego.view_linha %}{icon: 'bi bi-sign-merge-left-fill', color: 'primary', href: '{% url 'trafego:linhas' %}', 'data-i18n': 'apps.routes', desc: '<span data-i18n="apps.routes">Linhas</span>'}, {% endif %}
    {% if perms.trafego.view_planejamento %}{icon: 'bi bi-shuffle', color: 'primary', href: '{% url 'trafego:planejamentos' %}', 'data-i18n': 'apps.planning', desc: '<span data-i18n="apps.planning">Planejamento</span>'}, {% endif %}
    {% if perms.pessoal.view_funcionario %}{icon: 'bi bi-person', color: 'purple', href: '{% url 'pessoal:funcionarios' %}', 'data-i18n': 'apps.employee', desc: '<span data-i18n="apps.employee">Funcionário</span>'}, {% endif %}
    // {text: 'Trafego', 'data-i18n': 'index.apps.planning', desc: 'Keybind'},
    // {icon: 'bi bi-person-fill-lock', color: 'danger', onclick: ()=>{appNotify('danger', '<b>Atenção:</b> Travando Sisttema')}, desc: 'Onclick exemplo'},
    // {
    //   icon: 'bi bi-ubuntu',
    //   color: 'success',
    //   // href: '{% url 'empresas' %}',
    //   // desc: 'Exemplo com dropdown',
    //   menu: [
    //     {text: 'Novo', href: 'bar', icon: 'bi bi-plus-lg'},
    //     {text: 'Pesquisa', onclick: ()=>{appNotify('danger', 'Aqui deve funfar tbm')}, icon: 'bi bi-search'},
    //   ]
    // },
  ]
})


// function app_data_post(){
//   let url = `/i18n`;
//   let token = getCookie('csrftoken');
//   let xhttp = new XMLHttpRequest();
//   xhttp.onreadystatechange = function() {
//     if(this.readyState == 4 && this.status == 200){console.log('Sucesso...');}
//     else if(this.readyState == 4){console.log('Error...');}
//   };
//   xhttp.open("POST", `url`, true);
//   xhttp.setRequestHeader('X-CSRFToken', token);
//   xhttp.send(JSON.stringify({id:55, nome:'Rafael'}));
// }
// app_data_post();

{% endblock %}
</script>