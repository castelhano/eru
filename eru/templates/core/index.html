{% extends "layout/app.html" %}
{% load static %}
{% block title %}Eru{% endblock %}

{% block canvas_menu %}{% include '_component/menu/core.html' %}{% endblock %}

{% block content_fluid %}
<div id="grid_container"></div>

<div id="foo" class="modal fade" tabindex="-1">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Modal title</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <p>Modal body text goes here.</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
  </div>
{% endblock%}
  



{% block add_script_src %}
<script src="{% static 'js/grid.js' %}"></script>
{% endblock %}
<script>
{% block add_script %}

const grid = new jsGrid({
    container: document.getElementById('grid_container'),
    // canNavigate: false,
    size: 'md',
    items:[
        {
            icon: 'bi bi-ubuntu',
            desc: 'Icone somente (com keybind)',
            href: '{% url 'handler' 999 %}',
            keybind: {
                key: 'y',
                alt: true,
                name: '<b class="text-danger">App:</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Core',
                desc: 'Acessa módulo core',
                run: ()=>{appNotify('warning','Olá <b>mundo</b>!!!')}
            }
        },
        {
            text: 'Core',
            color: 'danger',
            desc: 'Somente Texto',
            menu:[
              {text: 'foo', onclick: ()=>{confirmOnClick({})}}
            ]
            // href: '{% url 'handler' 999 %}',
        },
        {
            color: 'success',
            icon: 'bi bi-earbuds',
            desc: 'Custom style',
            href: '{% url 'handler' 999 %}',
        },
        {
            color: 'pink',
            icon: 'bi bi-braces',
            desc: 'Com menu',
            // href: '{% url 'handler' 999 %}',
            menu: [
                {
                    text: 'Download',
                    icon: 'bi bi-person-fill',
                    href: 'http://www.terra.com'
                },
                {
                    text: 'Excluir',
                    divisor: true,
                    class: 'dropdown-item dropdown-item-danger pointer',
                    'data-bs-toggle': 'modal',
                    'data-bs-target': '#foo',
                },
            ],
        },
        {
          img:'{% static 'img/hckDworld.jpg' %}', 
          desc:'Imagem',
          menu:[
            {
              text: 'Download',
              'data-appConfirm': true,
              'data-appConfirmTitle': '<i class="bi bi-bug-fill me-2"></i>Confirma exclusao da bagaça',
              'data-appConfirmMessage': 'Tem certeza? esse processo <b>não pode ser desfeito</b>...',
              'data-appConfirmColor': 'danger',
              'data-appConfirmText': 'Excluir',
              'data-appConfirmDelay': '5',
              href: 'http://www.terra.com'
            },
            {
              text: 'Excluir',
              divisor: true,
              class: 'dropdown-item dropdown-item-danger',
              href: '{% url 'core_empresas' %}'
            }
          ]
        },
        {color:'purple',icon:'bi bi-earbuds',desc:'Custom style', href:'{% url 'handler' 999 %}'},
        {color:'orange',icon:'bi bi-earbuds',desc:'Custom style', href:'{% url 'handler' 999 %}'},
        {color:'warning',icon:'bi bi-earbuds',desc:'Custom style', href:'{% url 'handler' 999 %}'},
        {color:'secondary',icon:'bi bi-earbuds',desc:'Custom style', href:'{% url 'handler' 999 %}'},
        {color:'success',icon:'bi bi-earbuds',desc:'Custom style', href:'{% url 'handler' 999 %}'},
        {color:'success',icon:'bi bi-earbuds',desc:'Custom style', href:'{% url 'handler' 999 %}'},
    ]

})


// const teste = IMask(
// document.getElementById('teste'),
// {
//     // mask: [{mask: '(00) 0000-0000'}, {mask: '(00) 00000-0000'}],
//     mask: Number,
//     // min: 1,
//     // max: 9999,
//     scale: 2,
//     // thousandsSeparator: '.',
//     // radix: ',',
//     // mapToRadix: ['.',','],
//     padFractionalZeros: true,
//     // normalizeZeros: true,
//     // lazy: false,  // make placeholder always visible
//     // placeholderChar: '_'     // defaults to '_'
// }).on('accept', function() {
//     if(teste.value != ''){teste.el.input.classList.add('is-invalid');}
//     else{teste.el.input.classList.remove('is-invalid');}
// }).on('complete', function(){teste.el.input.classList.remove('is-invalid')})

// formValidate(document.querySelector('form'));

{% endblock %}
</script>